/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    /* Colors */
    --bg-color: #F7F8FA;
    --card-bg: #FFFFFF;
    --text-primary: #0F172A; /* slate-900 */
    --text-secondary: #475569; /* slate-600 */
    --text-muted: #94A3B8; /* slate-400 */
    --accent-indigo: #0085E0; /* updated primary */
    --accent-indigo-hover: #0072bf;
    --accent-green: #10B981; /* success accent */
    --border-color: #E5E7EB;
    /* Keep CSS var API compatible */
    --accent-color: var(--accent-indigo);
    --success-color: var(--accent-green);
    --warning-color: #F59E0B;
    --error-color: #EF4444;

    /* Spacing */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
    
    /* Border Radius */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    
    /* Shadows */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
    
    /* Typography */
    --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif;
    --font-size-xs: 12px;
    --font-size-sm: 14px;
    --font-size-md: 16px;
    --font-size-lg: 18px;
    --font-size-xl: 20px;
    --font-size-2xl: 24px;
    
    /* Layout */
    --header-height: 60px;
    --nav-height: 80px;
    --safe-area-bottom: env(safe-area-inset-bottom, 0);
}

body {
    font-family: var(--font-family);
    background-color: var(--bg-color);
    color: var(--text-primary);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    background-image: radial-gradient(40rem 20rem at 110% -10%, rgba(79,70,229,0.06), transparent 60%),
                      radial-gradient(32rem 16rem at -10% -10%, rgba(16,185,129,0.06), transparent 60%);
}

/* App Container */
#app {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    max-width: 600px;
    width: 100%;
    margin: 0 auto;
    background-color: var(--bg-color);
    border-radius: 16px;
}

/* Header */
.app-header {
    height: var(--header-height);
    background-color: var(--card-bg);
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 8px;
    align-items: center;
    border-bottom: 1px solid var(--border-color);
    box-shadow: none;
    position: sticky;
    top: 0;
    z-index: 100;
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
}

.app-title {
    grid-column: 2;
    justify-self: center;
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: 0.2px;
}

.brand-side {
    font-weight: 800;
    letter-spacing: 0.5px;
    opacity: 0.9;
    align-self: center;
    font-size: clamp(10px, 3.2vw, 14px);
}

.brand-left {
    color: var(--accent-green);
    justify-self: start;
    margin-left: 12px;
}

.brand-right {
    color: var(--accent-indigo);
    justify-self: end;
    margin-right: 12px;
}

/* Main Content */
.app-content {
    flex: 1;
    padding: var(--spacing-md);
    padding-bottom: calc(var(--nav-height) + var(--spacing-md));
    position: relative !important;
    min-height: calc(100vh - var(--header-height) - var(--nav-height)) !important;
}

/* View Management */
.view {
    display: none;
}

.view.active {
    display: block;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
    margin-bottom: var(--spacing-sm);
}

h2 {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--spacing-md);
}

h3 {
    font-size: var(--font-size-lg);
}

h4 {
    font-size: var(--font-size-md);
}

p {
    color: var(--text-secondary);
    margin-bottom: var(--spacing-sm);
}

/* Cards and Containers */
.card {
    background-color: var(--card-bg);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    border: 1px solid var(--border-color);
    box-shadow: 0 1px 2px rgba(15, 23, 42, 0.05);
    margin-bottom: var(--spacing-md);
}

.stat-card {
    position: relative;
    overflow: hidden;
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 18px;
    text-align: center;
    background: #fff;
    transition: transform .15s ease, box-shadow .15s ease;
}

.stat-card::before {
    content: "";
    position: absolute;
    inset: 0 0 auto 0;
    height: 36px;
    background: linear-gradient(90deg, rgba(79,70,229,0.10), rgba(16,185,129,0.10));
}

/* Stat cards: remove hover and icons */
.stat-card { will-change: auto; }
.stat-card:hover { transform: none; box-shadow: 0 1px 2px rgba(2,6,23,0.04); }
.stat-icon { display: none; }

/* Simple glyphs */
.stat-glyph { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; border-radius: 8px; background: #F1F5F9; color: var(--text-secondary); margin: 6px auto 8px; font-size: 16px; }
.stat-glyph.weight::before { content: "üèãÔ∏è"; }
.stat-glyph.list::before { content: "‚ò∞"; font-size: 14px; }

/* Streak indicator: five circles, with .filled and .half */
.streak-dots { display: flex; gap: 6px; align-items: center; justify-content: center; margin-top: 10px; }
.streak-dot { width: 8px; height: 8px; border-radius: 50%; background: #E5E7EB; position: relative; overflow: hidden; }
.streak-dot.filled { background: var(--accent-indigo); }
.streak-dot.half::after { content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 50%; background: var(--accent-indigo); }

.stats-cards {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    flex-wrap: wrap;
}

/* Workout Cards */
.workout-card {
    background-color: var(--card-bg);
    border-radius: var(--radius-md);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
}

.workout-card h4 {
    margin-bottom: var(--spacing-xs);
}

.workout-card p {
    margin-bottom: var(--spacing-md);
    color: var(--text-secondary);
}

/* Plan Cards */
.plan-card {
    background-color: var(--card-bg);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    box-shadow: var(--shadow-sm);
    margin-bottom: var(--spacing-md);
}

.plan-card h3 {
    margin-bottom: var(--spacing-xs);
}

.plan-card p {
    margin-bottom: var(--spacing-md);
    color: var(--text-secondary);
}

/* Buttons */
.btn-primary,
.btn-secondary {
    display: inline-block;
    padding: var(--spacing-sm) var(--spacing-md);
    border: none;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-md);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    text-decoration: none;
}

.btn-primary {
    background-color: var(--accent-indigo) !important;
    color: white !important;
}

.btn-primary:hover {
    background-color: var(--accent-indigo-hover) !important;
    box-shadow: 0 6px 12px rgba(79,70,229,0.15) !important;
}

.btn-secondary {
    background-color: transparent !important;
    color: var(--accent-indigo) !important;
    border: 1px solid var(--accent-indigo) !important;
}

.btn-secondary:hover {
    background-color: rgba(0,133,224,0.08) !important;
    color: var(--accent-indigo) !important;
}

/* Tertiary (text) button */
.btn-tertiary { background: none; border: none; color: var(--text-secondary); padding: 6px 10px; border-radius: 6px; }
.btn-tertiary:hover { background: #F3F4F6; color: var(--text-primary); }

/* Settings */
.settings-list {
    background-color: var(--card-bg);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md);
    border-bottom: 1px solid #f0f0f0;
}

.setting-item:last-child {
    border-bottom: none;
}

/* Toggle Switch */
.toggle {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
}

.toggle input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.4s;
    border-radius: 24px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: 0.4s;
    border-radius: 50%;
}

input:checked + .slider {
    background-color: var(--accent-color);
}

input:checked + .slider:before {
    transform: translateX(26px);
}

/* Bottom Navigation */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: var(--card-bg);
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: var(--spacing-sm) 0;
    box-shadow: none;
    border-top: 1px solid var(--border-color);
    backdrop-filter: saturate(140%) blur(6px);
    background-color: rgba(255,255,255,0.9);
    max-width: 600px;
    margin: 0 auto;
    height: var(--nav-height);
    padding-bottom: var(--safe-area-bottom);
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: none;
    border: none;
    padding: var(--spacing-xs);
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--text-secondary);
    font-size: var(--font-size-xs);
    border-radius: 10px;
    padding: 8px 10px;
}

.nav-item svg {
    width: 24px;
    height: 24px;
    margin-bottom: var(--spacing-xs);
}

.nav-item.active {
    color: var(--accent-indigo);
    background: rgba(0,133,224,0.08);
}

.nav-item:hover {
    transform: translateY(-2px);
}

/* Dashboard Styles */
.dashboard {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 20px;
  background-color: #F0F2F5;
  min-height: 100vh;
}

.dashboard-hero {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 16px 18px;
  background: linear-gradient(180deg, #FFFFFF 0%, #FAFAFF 100%);
  border: 1px solid var(--border-color);
  border-radius: 14px;
}

.dashboard-hero h2 {
  margin: 0;
  font-size: 20px;
}

.dashboard-hero .cta {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  border: 1px solid var(--border-color);
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.05);
}

.kpi-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

.kpi-card {
  padding: 14px;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  background: #fff;
  text-align: center;
}

.kpi-label {
  font-size: 12px;
  color: var(--text-secondary);
}

.kpi-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
}

.section-title {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 8px 0 12px;
}

.section-title h3 {
  margin: 0;
  font-size: 16px;
  color: var(--text-primary);
}

.section-title .hint {
  font-size: 12px;
  color: var(--text-muted);
}

.list-card {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 6px;
  background: #fff;
}

.list-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  border-radius: 10px;
}

.list-row + .list-row {
  margin-top: 4px;
}

.list-row:hover {
  background: #F8FAFC;
}

.row-title {
  font-weight: 600;
  color: var(--text-primary);
}

.row-sub {
  font-size: 12px;
  color: var(--text-secondary);
}

.row-meta {
  font-size: 12px;
  color: var(--text-muted);
}

/* Workout Timer Styles */
.workout-timer-container {
  background: var(--card-bg);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  box-shadow: var(--shadow-sm);
  margin-bottom: var(--spacing-md);
}

.timer-display {
  text-align: center;
  padding: var(--spacing-md);
}

.timer-display.hidden {
  display: none;
}

.timer-label {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  margin-bottom: var(--spacing-xs);
}

.timer-value {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: var(--text-primary);
  font-family: 'Courier New', monospace;
}

.timer-controls {
  display: flex;
  justify-content: center;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-md);
}

.timer-controls button {
  min-width: 100px;
  border-radius: 10px;
}

/* Workout Container Styles */
.workout-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.workout-info {
  background: var(--card-bg);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border-color);
}

.workout-stats {
  display: flex;
  justify-content: space-around;
  margin-top: var(--spacing-md);
  gap: 12px;
}

.stat-item {
  text-align: center;
  background: #FFFFFF;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 10px;
}

.stat-label {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  display: block;
  margin-bottom: var(--spacing-xs);
}

.stat-value {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-primary);
}

/* Exercise Section Styles */
.exercise-section {
  background: var(--card-bg);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border-color);
}

.current-exercise {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.exercise-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--bg-color);
  padding-bottom: var(--spacing-sm);
}

.exercise-progress {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
}

.exercise-details {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.exercise-target {
  font-size: var(--font-size-md);
  color: var(--text-primary);
}

.exercise-instructions {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  line-height: 1.4;
}

.exercise-image {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  background: var(--bg-color);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.exercise-image img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.placeholder-image {
  color: var(--text-muted);
  font-size: var(--font-size-sm);
}

/* Circuit Workout Styles */
.circuit-workout {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.circuit-header {
  text-align: center;
  border-bottom: 1px solid var(--bg-color);
  padding-bottom: var(--spacing-sm);
}

.circuit-exercises {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.circuit-exercise-item {
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background: #FFFFFF;
}

.circuit-exercise-item h4 {
  margin-bottom: var(--spacing-xs);
}

.exercise-inputs {
  display: flex;
  gap: var(--spacing-md);
  margin-top: var(--spacing-sm);
}

.input-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  flex: 1;
}

.input-group label {
  font-size: var(--font-size-md);
  color: var(--text-primary);
  font-weight: 500;
  margin-bottom: 4px;
  display: block;
  width: 100%;
  text-align: left;
}

.input-group input {
  padding: 10px 12px;
  border: 1px solid var(--border-color);
  border-radius: 10px;
  font-size: var(--font-size-md);
  background: #fff;
  color: var(--text-primary);
  width: 100%;
}

/* Controls Section Styles */
.controls-section {
  border: 1px solid var(--border-color);
  border-radius: 12px;
}

.workout-controls {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.workout-controls button {
  border-radius: 10px;
}

/* Modal Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-overlay.hidden {
  display: none;
}

.modal-content {
  background: var(--card-bg);
  border-radius: var(--radius-lg);
  width: 90%;
  /* Slightly wider modal for the timer setup to allow better alignment */
  max-width: 640px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--border-color);
  padding: 0; /* header/body/footer provide padding */
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--bg-color);
}

.modal-header h2 {
  margin: 0;
}

.modal-close-btn {
  background: none;
  border: none;
  font-size: var(--font-size-xl);
  cursor: pointer;
  color: var(--text-secondary);
  padding: 0;
  width: 30px;
  height: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-close-btn:hover {
  color: var(--text-primary);
}

/* Modal body ‚Äî improved layout for timer setup form */
.modal-body {
  padding: var(--spacing-md);
}

/* Timer setup specific form alignment and typography */
.timer-setup-modal .modal-header h2 {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
  letter-spacing: 0;
}

/* Form groups laid out in three columns: label / input / hint */
.timer-setup-modal .modal-body .form-group {
  display: grid;
  grid-template-columns: 220px 140px 1fr;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px dashed rgba(0,0,0,0.04);
}

/* Label styles */
.timer-setup-modal .modal-body .form-group label {
  font-size: var(--font-size-md);
  color: var(--text-primary);
  font-weight: 600;
  justify-self: start;
}

/* Inputs centered in their column, compact and consistent
   ‚Äî ensure numeric values are visually centered in the rounded "cell",
   and are easy to adjust with the mouse wheel. */
.timer-setup-modal .modal-body .form-group input[type="number"],
.timer-setup-modal .modal-body .form-group select {
  width: 100%;
  max-width: 140px;
  /* Make all controls a fixed height so the numeric value sits perfectly centered */
  height: 56px;
  padding: 0 14px; /* horizontal padding only */
  line-height: 56px; /* vertically center the number text */
  border-radius: 12px;
  border: 1px solid var(--border-color);
  text-align: center;
  font-size: 20px; /* larger, visually prominent number */
  background: #fff;
  color: var(--text-primary);
  justify-self: center;
  box-sizing: border-box;
  -webkit-appearance: none; /* remove platform appearance that can offset alignment */
  appearance: none;
}

/* Hide native number input spinner controls (kept wheel support via JS) */
.timer-setup-modal .modal-body .form-group input[type="number"]::-webkit-outer-spin-button,
.timer-setup-modal .modal-body .form-group input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Ensure selects visually match inputs and text is centered */
.timer-setup-modal .modal-body .form-group select {
  /* Match the numeric inputs' height so the selected value is vertically centered */
  height: 56px;
  line-height: 56px;
  /* Use symmetric horizontal padding so the selected value appears centered.
     Keep a bit of room on the right for the arrow (background-image). */
  padding: 0 14px;
  border-radius: 12px;
  font-size: 20px;
  box-sizing: border-box;

  /* Use text-align and text-align-last to horizontally center the selected value
     across browsers. Avoid relying on flex on <select> since support is inconsistent. */
  display: block;
  text-align: center;
  -webkit-text-align-last: center; /* WebKit/Blink */
  text-align-last: center;         /* Firefox */

  -webkit-appearance: none;
  appearance: none;

  background-color: #fff;
  background-repeat: no-repeat;
  /* preserve native arrow space visually by placing a transparent image area on the right */
  background-position: right 12px center;
  background-size: 18px;
}

/* Remove chevron/arrow from the select in the timer modal (keep value centered) */
.timer-setup-modal .modal-body .form-group select {
  /* Remove any background arrow / image */
  background-image: none !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  background-color: #fff !important;

  /* Force native appearance off across engines */
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;

  /* Keep symmetric padding so the selected value stays centered */
  padding: 0 14px !important;
  text-align: center !important;
}

/* Hide IE/Edge default dropdown arrow */
.timer-setup-modal .modal-body .form-group select::-ms-expand {
  display: none !important;
}

/* Hide WebKit inner decoration (extra safety) */
.timer-setup-modal .modal-body .form-group select::-webkit-inner-spin-button,
.timer-setup-modal .modal-body .form-group select::-webkit-outer-spin-button {
  -webkit-appearance: none !important;
  display: none !important;
}

/* Some browsers draw a system arrow that cannot be removed via CSS for accessibility.
   As a fallback, place an inset transparent overlay to visually cover the arrow area if needed. */
.timer-setup-modal .modal-body .form-group select {
  /* Ensure the right side has space for native controls but visually centered content */
  padding-right: 14px !important;
  padding-left: 14px !important;
}

/* Center option text in the dropdown as well */
.timer-setup-modal .modal-body .form-group select option {
  text-align: center;
}

/* Slightly smaller select on very small screens */
@media (max-width: 520px) {
  .timer-setup-modal .modal-body .form-group select {
    height: 44px;
    line-height: 44px;
    font-size: var(--font-size-md);
    padding: 0 12px;
    text-align: center;
    -webkit-text-align-last: center;
    text-align-last: center;
    background-position: right 10px center;
  }
}

/* Center option text in the dropdown as well */
.timer-setup-modal .modal-body .form-group select option {
  text-align: center;
}

/* Slightly smaller select on very small screens */
@media (max-width: 520px) {
  .timer-setup-modal .modal-body .form-group select {
    height: 44px;
    line-height: 44px;
    font-size: var(--font-size-md);
    padding: 0 12px;
    justify-content: center;
    text-align: center;
    -webkit-text-align-last: center;
    text-align-last: center;
  }
}

/* Responsive: slightly smaller controls on narrow screens */
@media (max-width: 520px) {
  .timer-setup-modal .modal-body .form-group input[type="number"],
  .timer-setup-modal .modal-body .form-group select {
    height: 44px;
    line-height: 44px;
    font-size: var(--font-size-md);
    max-width: 100%;
    padding: 0 12px;
    text-align: center;
  }
}

/* Helper text on the right ‚Äî smaller and muted */
.timer-setup-modal .modal-body .form-group small {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  justify-self: start;
  margin-left: 6px;
}

/* Remove extra bottom border from last form-group */
.timer-setup-modal .modal-body .form-group:last-child {
  border-bottom: none;
}

/* Tighter spacing for header / close button */
.timer-setup-modal .modal-header {
  padding: calc(var(--spacing-md) - 4px) calc(var(--spacing-md) - 2px);
}

/* Make the close button slightly larger and visually lighter */
.timer-setup-modal .modal-close-btn {
  font-size: 20px;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  color: var(--text-secondary);
}

/* Footer button sizing and spacing */
.timer-setup-modal .modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-sm);
  padding: calc(var(--spacing-md) - 4px);
  border-top: 1px solid var(--bg-color);
}

/* Responsive collapse: stack fields on small screens */
@media (max-width: 520px) {
  .timer-setup-modal .modal-body .form-group {
    grid-template-columns: 1fr;
    gap: 6px;
    align-items: start;
  }

  .timer-setup-modal .modal-body .form-group label {
    font-size: var(--font-size-md);
  }

  .timer-setup-modal .modal-body .form-group input[type="number"],
  .timer-setup-modal .modal-body .form-group select {
    max-width: 100%;
    text-align: left;
  }

  .timer-setup-modal .modal-body .form-group small {
    margin-left: 0;
  }
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-sm);
  padding: var(--spacing-md);
  border-top: 1px solid var(--bg-color);
}

/* Plan Editor Styles */
.plan-editor-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background-color: rgba(0, 0, 0, 0.8) !important;
    z-index: 9999 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 20px !important;
}

.plan-editor-modal {
    background: var(--card-bg) !important;
    border-radius: var(--radius-lg) !important;
    max-width: 600px !important;
    width: 100% !important;
    max-height: 90vh !important;
    overflow: hidden !important;
    box-shadow: var(--shadow-lg) !important;
    position: relative !important;
    border: 1px solid var(--border-color) !important;
}

/* Ensure plan editor view is visible when active */
#plan-editor-view.active {
    display: block !important;
    position: relative !important;
    z-index: 9998 !important;
}

/* Fix for view switching */
.app-content {
    position: relative !important;
    min-height: calc(100vh - var(--header-height) - var(--nav-height)) !important;
}

/* Button fixes */
.btn-primary {
    background-color: var(--accent-color) !important;
    color: white !important;
    border: none !important;
    padding: 12px 24px !important;
    border-radius: var(--radius-sm) !important;
    cursor: pointer !important;
    font-size: var(--font-size-md) !important;
    font-weight: 500 !important;
    transition: background-color 0.2s ease !important;
}

.btn-primary:hover {
    background-color: #0056b3 !important;
}

.btn-secondary {
    background-color: #6c757d !important;
    color: white !important;
    border: none !important;
    padding: 12px 24px !important;
    border-radius: var(--radius-sm) !important;
    cursor: pointer !important;
    font-size: var(--font-size-md) !important;
    font-weight: 500 !important;
    transition: background-color 0.2s ease !important;
}

.btn-secondary:hover {
    background-color: #5a6268 !important;
}

/* Success and Error Messages */
.success-message {
    background-color: var(--success-color);
    color: white;
    padding: var(--spacing-md);
    border-radius: var(--radius-sm);
    margin-bottom: var(--spacing-md);
    animation: slideIn 0.3s ease-out;
}

.success-content {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.success-content svg {
    flex-shrink: 0;
}

.error-message {
    background-color: var(--error-color);
    color: white;
    padding: var(--spacing-md);
    border-radius: var(--radius-sm);
    margin-bottom: var(--spacing-md);
    animation: slideIn 0.3s ease-out;
}

/* Form Improvements */
.plan-form .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

.plan-info {
    background-color: #F3F4F6;
    padding: var(--spacing-md);
    border-radius: var(--radius-sm);
    margin-top: var(--spacing-md);
}

.plan-info p {
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
    margin: 0;
}

/* Button Styles */
.duplicate-btn {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-sm);
}

/* Dashboard enhancements */
.dashboard-sections { display: flex; flex-direction: column; gap: var(--spacing-md); }
.dashboard-card { background:#FFFFFF; border:1px solid var(--border-color); border-radius:12px; padding: var(--spacing-md); }
.dashboard-card h3 { margin: 0 0 8px; font-size: 16px; }

/* Calendar Layout */
.calendar { background:#FFFFFF; border:1px solid var(--border-color); border-radius: 12px; padding: 12px; font-size: 14px; }
.calendar-header { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; padding: 12px 8px; position: relative; }

/* Collapsible calendar: header remains visible while days are hidden in a roll-down */
.calendar .calendar-weekdays,
.calendar .calendar-grid {
  transition: max-height 0.28s ease, opacity 0.2s ease, transform 0.28s ease;
  will-change: max-height, opacity, transform;
}

/* When collapsed hide the weekdays row and the grid content */
.calendar.collapsed .calendar-weekdays,
.calendar.collapsed .calendar-grid {
  max-height: 0;
  opacity: 0;
  transform: translateY(-6px);
  overflow: hidden;
  pointer-events: none;
}

/* When expanded allow content to show - large max-height for animation */
.calendar .calendar-weekdays {
  max-height: 120px; /* enough for one row of weekdays */
}
.calendar .calendar-grid {
  max-height: 2000px; /* large to allow full month to expand */
}

/* Tweak spacing when collapsed so header looks compact */
.calendar.collapsed { padding-bottom: 8px; }
.calendar.collapsed .calendar-weekdays { margin-bottom: 0; }

/* Remove toggle chevron ‚Äî header click toggles the calendar now.
   Hide any inline chevron/triangle markup and make the header show a pointer
   to indicate it's clickable. */
.calendar .chev,
.calendar-toggle {
  display: none !important;
}
.calendar-header {
  cursor: pointer;
}
.calendar.collapsed .chev {
  transform: rotate(-90deg);
}
.calendar-header .month { grid-column: 2; justify-self: center; font-weight: 700; }
.calendar-header .calendar-left { grid-column: 1; justify-self: start; color: var(--text-secondary); font-size: 18px; }
.calendar-header .calendar-right { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); }
.calendar-header .calendar-right .controls { display: flex; gap: 12px; }
.calendar-header .controls { display: flex; align-items: center; gap: 8px; margin-left: auto; }
.calendar-header #prev-month, .calendar-header #next-month { width: 48px; height: 48px; display: inline-flex; align-items: center; justify-content: center; color: var(--accent-indigo) !important; border-radius: 12px; }
.calendar-header #prev-month svg, .calendar-header #next-month svg { width: 24px; height: 24px; display: block; fill: currentColor; }
.calendar-header #prev-month *, .calendar-header #next-month * { pointer-events: none; }

.calendar-header .month { display: grid; place-items: center; line-height: 1.2; }
.calendar-header .month-year { font-size: 16px; color: var(--text-secondary); display: block; }
.calendar-header .month-name { font-size: 24px; font-weight: 700; color: var(--text-primary); display: block; }
@media (min-width: 420px) {
  .calendar-header .month-year { font-size: 18px; }
  .calendar-header .month-name { font-size: 28px; }
}

.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
.calendar-weekdays { display: grid; grid-template-columns: repeat(7, 1fr); margin-bottom: 8px; font-size: 14px; color: var(--text-muted); }
.calendar-weekday { text-align:center; font-size: 14px; font-weight: 600; color: var(--text-secondary); padding: 8px 0; }
/* Calendar Badges */
.calendar-badges { margin-top: auto; display:flex; flex-wrap: wrap; gap: 4px; }
.color-dot { display:inline-block; width:6px; height:6px; border-radius:50%; margin-right:4px; vertical-align: text-bottom; }
.badge { font-size: 11px; line-height: 1; padding: 4px 6px; border-radius: 999px; border:1px solid var(--border-color); color: var(--text-secondary); background:#F8FAFC; }
.badge.primary { border-color: rgba(0,133,224,0.3); color: var(--accent-indigo); background: rgba(0,133,224,0.08); }
.badge.success { border-color: rgba(16,185,129,0.3); color: var(--accent-green); background: rgba(16,185,129,0.08); }

.calendar-legend { display:flex; align-items:center; gap: 8px; margin-top: 10px; flex-wrap: wrap; }
.calendar-legend .legend-item { display:flex; align-items:center; gap: 6px; font-size: 12px; color: var(--text-secondary); }
.calendar-legend .dot { width: 10px; height: 10px; border-radius: 50%; background: currentColor; }

/* Selected and today states */
.calendar-cell.today { outline: 2px solid var(--accent-indigo); outline-offset: -2px; }
.calendar-cell.selected { box-shadow: inset 0 0 0 2px var(--accent-indigo); }

/* Status text positioning */
.calendar-status {
  margin-top: auto;
  text-align: center;
  font-size: 10px;
  line-height: 1;
  padding: 2px 0;
}

/* Animations */
@keyframes slideIn {
    from {
        transform: translateY(-10px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Loading States */
.btn-primary:disabled,
.btn-secondary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Focus Styles */
input:focus,
textarea:focus,
select:focus {
    outline: 2px solid var(--accent-indigo);
    outline-offset: 2px;
}

/* Accessibility */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

:focus-visible {
    outline: 2px solid var(--accent-indigo);
    outline-offset: 2px;
    border-radius: 8px;
}

/* Reduce loud greens in performance blocks */
.performance {
  background: #F8FAFC;
  border: 1px solid var(--border-color);
}

.primary-btn {
  background-color: var(--accent-green);
}

/* Base refinements */
body {
    /* ...existing code... */
    background-image: radial-gradient(40rem 20rem at 110% -10%, rgba(79,70,229,0.06), transparent 60%),
                      radial-gradient(32rem 16rem at -10% -10%, rgba(16,185,129,0.06), transparent 60%);
}

#app {
    /* ...existing code... */
    border-radius: 16px;
}

/* Header */
.app-header {
    /* ...existing code... */
    border-bottom: 1px solid var(--border-color);
    box-shadow: none;
}
.app-title { letter-spacing: 0.2px; }

/* Header side labels */
.app-header { position: sticky; top: 0; z-index: 100; display: grid; grid-template-columns: 1fr auto 1fr; gap: 8px; }
.app-title { grid-column: 2; justify-self: center; }
.brand-side { font-weight: 800; letter-spacing: 0.5px; opacity: 0.9; align-self: center; }
.brand-left { color: var(--accent-green); justify-self: start; margin-left: 12px; }
.brand-right { color: var(--accent-indigo); justify-self: end; margin-right: 12px; }

@media (max-width: 420px) {
  .brand-side { display: none; }
}

/* Cards */
.card {
    /* ...existing code... */
    border: 1px solid var(--border-color);
    box-shadow: 0 1px 2px rgba(15, 23, 42, 0.05);
}

.stats-cards { /* ...existing code... */ flex-wrap: wrap; }
.stat-card { border: 1px solid var(--border-color); }

/* Buttons */
.btn-primary {
    /* ...existing code... */
    background-color: var(--accent-indigo) !important;
}
.btn-primary:hover { background-color: var(--accent-indigo-hover) !important; box-shadow: 0 6px 12px rgba(79,70,229,0.15) !important; }

.btn-secondary {
    /* ...existing code... */
    background-color: transparent !important;
    color: var(--accent-indigo) !important;
    border: 1px solid var(--accent-indigo) !important;
}
.btn-secondary:hover { background-color: rgba(0,133,224,0.08) !important; color: var(--accent-indigo) !important; }

/* Tertiary (text) button */
.btn-tertiary { background: none; border: none; color: var(--text-secondary); padding: 6px 10px; border-radius: 6px; }
.btn-tertiary:hover { background: #F3F4F6; color: var(--text-primary); }

/* Inputs */
.input, input, select, textarea {
    background: #FFFFFF;
    border: 1px solid var(--border-color);
    border-radius: 10px;
    padding: 10px 12px;
    font-size: var(--font-size-md);
    color: var(--text-primary);
}
input::placeholder, textarea::placeholder { color: var(--text-muted); }

/* Bottom Navigation */
.bottom-nav {
    /* ...existing code... */
    border-top: 1px solid var(--border-color);
    box-shadow: none;
    backdrop-filter: saturate(140%) blur(6px);
    background-color: rgba(255,255,255,0.9);
}
.nav-item { /* ...existing code... */ border-radius: 10px; padding: 8px 10px; }
.nav-item.active { color: var(--accent-indigo); background: rgba(0,133,224,0.08); }

/* Dashboard focus areas */
.dashboard-hero {
    display: flex; align-items: center; justify-content: space-between; gap: 12px;
    padding: 16px 18px; background: linear-gradient(180deg, #FFFFFF 0%, #FAFAFF 100%);
    border: 1px solid var(--border-color); border-radius: 14px;
}
.dashboard-hero h2 { margin: 0; font-size: 20px; }
.dashboard-hero .cta { display: flex; gap: 8px; flex-shrink: 0; }

.kpi-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 12px; }
.kpi-card { padding: 14px; border:1px solid var(--border-color); border-radius:12px; background:#fff; text-align:center; }
.kpi-label { font-size: 12px; color: var(--text-secondary); }
.kpi-value { font-size: 18px; font-weight: 700; color: var(--text-primary); }

.section-title { display:flex; align-items:center; justify-content:space-between; margin: 8px 0 12px; }
.section-title h3 { margin:0; font-size: 16px; color: var(--text-primary); }
.section-title .hint { font-size: 12px; color: var(--text-muted); }

.list-card { border:1px solid var(--border-color); border-radius:12px; padding: 6px; background:#fff; }
.list-row { display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-radius:10px; }
.list-row + .list-row { margin-top: 4px; }
.list-row:hover { background:#F8FAFC; }
.row-title { font-weight:600; color: var(--text-primary); }
.row-sub { font-size:12px; color: var(--text-secondary); }
.row-meta { font-size:12px; color: var(--text-muted); }

/* Workout Timer polish */
.workout-timer-container { /* ...existing code... */ border: 1px solid var(--border-color); border-radius: 12px; }
.timer-display { /* ...existing code... */ border-radius: 12px; }
.timer-controls button { border-radius: 10px; }

/* Workout Container Styles */
.workout-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.workout-info {
  border: 1px solid var(--border-color);
  border-radius: 12px;
}

.workout-stats {
  gap: 12px;
}

.stat-item {
  background: #FFFFFF;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 10px;
}

/* Exercise Section Styles */
.exercise-section {
  border: 1px solid var(--border-color);
  border-radius: 12px;
}

.current-exercise {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.exercise-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--bg-color);
  padding-bottom: var(--spacing-sm);
}

.exercise-progress {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
}

.exercise-details {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.exercise-target {
  font-size: var(--font-size-md);
  color: var(--text-primary);
}

.exercise-instructions {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  line-height: 1.4;
}

.exercise-image {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  background: var(--bg-color);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.exercise-image img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.placeholder-image {
  color: var(--text-muted);
  font-size: var(--font-size-sm);
}

/* Circuit Workout Styles */
.circuit-workout {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.circuit-header {
  text-align: center;
  border-bottom: 1px solid var(--bg-color);
  padding-bottom: var(--spacing-sm);
}

.circuit-exercises {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.circuit-exercise-item {
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background: #FFFFFF;
}

.circuit-exercise-item h4 {
  margin-bottom: var(--spacing-xs);
}

.exercise-inputs .input-group input {
  border-radius: 10px;
}

/* Controls Section Styles */
.controls-section {
  border: 1px solid var(--border-color);
  border-radius: 12px;
}

.workout-controls button {
  border-radius: 10px;
}

/* Segmented control utility (rounded) */
.segmented {
  display: inline-flex;
  background: #F3F4F6;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 4px;
  gap: 4px;
}

.segmented button {
  background: transparent;
  border: 0;
  padding: 8px 12px;
  border-radius: 10px;
  color: var(--text-secondary);
}

.segmented button[aria-pressed="true"] {
  background: #FFFFFF;
  color: var(--text-primary);
  box-shadow: 0 1px 2px rgba(15,23,42,0.06);
}

/* List & table polish for plan lists/history with rounded look */
.table-card {
  background: #FFFFFF;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  overflow: hidden;
}

.table-card table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

.table-card th, .table-card td {
  padding: 12px;
  border-bottom: 1px solid var(--border-color);
}

.table-card tr:last-child td {
  border-bottom: 0;
}

/* Ensure app cards remain rounded */
.card, .plan-card, .workout-card, .list-card, .kpi-card, .modal-content {
  border-radius: 12px;
}

/* Stronger rounding for large containers */
#app {
  border-radius: 16px;
}

/* Focus card alignment */
.focus-card { border: 1px solid var(--border-color); border-radius: 16px; padding: 16px 18px; }
.focus-card h2 { font-size: 22px; margin-bottom: 8px; color: var(--text-primary); }

/* Indigo underline for Today‚Äôs Focus */
.focus-card h2 {
  color: var(--accent-indigo);
  position: relative;
  padding-bottom: 6px;
}
.focus-card h2::after {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 0;
  width: 160px;
  height: 3px;
  background: var(--accent-indigo);
  border-radius: 999px;
}

/* Variant for green */
.focus-card.focus-accent-green h2 { color: var(--accent-green); }
.focus-card.focus-accent-green h2::after { background: var(--accent-green); }

/* Centered and larger Start button */
#start-workout-btn {
  background: var(--accent-green);
  color: #fff;
  border: none;
  padding: 14px 22px;
  border-radius: 12px;
  display: inline-block;
  margin: 14px auto 4px;
  font-weight: 700;
  font-size: 16px;
}

/* Make Start button larger */
#start-workout-btn {
  padding: 18px 28px;
  font-size: 18px;
  border-radius: 14px;
}
@media (min-width: 480px) {
  #start-workout-btn { padding: 20px 36px; font-size: 20px; }
}

.focus-card { text-align: center; }
.performance { text-align: left; }

/* Performance box */
.performance { background: #F8FAFC; border: 1px solid var(--border-color); border-radius: 12px; padding: 12px; margin: 12px 0; }
.performance h4 { font-size: 14px; margin: 0 0 8px; color: var(--text-primary); }
.performance ul { margin: 0; padding-left: 18px; }
.performance li { margin: 4px 0; font-size: 14px; color: var(--text-primary); }

/* Start button normalization */
#start-workout-btn { background: var(--accent-green); color: #fff; border: none; padding: 10px 14px; border-radius: 10px; display: inline-block; margin-top: 8px; font-weight: 600; }

/* KPI visual to match reference */
.stats-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; }
.stat-card { border: 1px solid var(--border-color); border-radius: 16px; padding: 14px; background: #fff; }
.stat-title { display:flex; align-items:center; justify-content: space-between; font-weight: 600; color: var(--text-primary); font-size: 14px; }
.stat-trend { color: var(--accent-green); font-size: 14px; }
.stat-big { font-size: 28px; font-weight: 800; color: var(--text-primary); margin-top: 8px; }
.stat-caption { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }

@media (min-width: 640px) { .stat-big { font-size: 32px; } }

/* Inline icons inside stat titles */
.stat-icon-inline { display: inline-flex; vertical-align: middle; margin-left: 6px; }
.stat-title svg { display: block; }

/* Remove top header strip and align content */
.stat-card { border: 1px solid var(--border-color); border-radius: 16px; padding: 16px; background: #fff; display: flex; flex-direction: column; gap: 6px; }
.stat-title { margin: 0; padding: 0; font-weight: 600; color: var(--text-primary); font-size: 14px; display:flex; align-items:center; gap:8px; }
.stat-icon-inline { margin-left: 0; }
.stat-big { margin-top: 4px; line-height: 1.1; }
.stat-caption { margin-top: 2px; }

/* Ensure grid gaps consistent */
.stats-grid { gap: 14px; }

/* Ensure no top strip for stat cards */
.stat-card::before { display: none !important; content: none !important; }

/* Center-align title and content */
.stat-card { text-align: center; }
.stat-title { justify-content: center; }

/* Small info card used on dashboard */
.info-card { background:#F8FAFC; border:1px solid var(--border-color); border-radius:16px; padding:14px; }

/* Collapsible info-card */
.info-card { cursor: pointer; }
.info-card .info-body { max-height: 0; overflow: hidden; transition: max-height 0.25s ease; }
.info-card.expanded .info-body { max-height: 400px; }
.info-card .info-header { display:flex; align-items:center; justify-content: space-between; }
.info-card .chev { transition: transform .2s ease; }
.info-card.expanded .chev { transform: rotate(180deg); }
.info-card h4 { margin:0 0 8px; font-size:16px; color:var(--text-primary); }
.info-card ul { margin:0; padding-left:20px; }
.info-card li { margin:6px 0; font-size:14px; color:var(--text-primary); }

/* Last Performance summary + details */
.info-card .summary { display:flex; flex-wrap: wrap; gap: 8px 12px; align-items: center; margin-top: 6px; color: var(--text-secondary); font-size: 14px; }
.info-card .summary .dot { width:4px; height:4px; background:#CBD5E1; border-radius:999px; display:inline-block; margin: 0 2px; }
.info-card .details-list { margin: 8px 0 0; padding-left: 18px; }
.info-card .details-list li { margin: 4px 0; color: var(--text-primary); }

/* Responsive app container and typography scaling */
#app { max-width: 600px; width: 100%; margin: 0 auto; }

.app-title { font-size: clamp(18px, 2.8vw, var(--font-size-xl)); }
.focus-card h2 { font-size: clamp(18px, 3.6vw, 22px); }
.focus-card h3 { font-size: clamp(16px, 3.2vw, 18px); }
#start-workout-btn { font-size: clamp(16px, 3.6vw, 20px); padding: clamp(12px, 3vw, 20px) clamp(16px, 5vw, 36px); }

/* Respect safe areas on devices with notches */
.app-header { padding-left: max(12px, env(safe-area-inset-left)); padding-right: max(12px, env(safe-area-inset-right)); }
.bottom-nav { padding-bottom: calc(var(--safe-area-bottom)); }

/* Ensure no horizontal overflow */
body, html { width: 100%; overflow-x: hidden; }

/* Header labels visible on mobile with smaller size */
.brand-side { font-size: clamp(10px, 3.2vw, 14px); }
@media (max-width: 420px) {
  .brand-side { display: inline; }
}

/* Calendar controls visibility for SVG icons */
.calendar-header .controls { margin-left: auto; display: flex; align-items: center; gap: 6px; }
.calendar-header .controls .btn-secondary { color: var(--accent-indigo) !important; text-indent: 0; }

/* Force visibility of calendar header SVG arrows */
.calendar-header .controls button { line-height: 0; }
.calendar-header #prev-month, .calendar-header #next-month { color: var(--accent-indigo) !important; }
.calendar-header #prev-month svg, .calendar-header #next-month svg { width: 22px; height: 22px; display: block; fill: currentColor; }
.calendar-header #prev-month *, .calendar-header #next-month * { pointer-events: none; }

/* Calendar header nav buttons (from scratch) */
.calendar-header .controls { display: flex; gap: 8px; margin-left: auto; }
.calendar-nav { width: 44px; height: 44px; display: inline-flex; align-items: center; justify-content: center; border-radius: 12px; color: var(--accent-indigo) !important; line-height: 0; }
.calendar-nav svg { display: block; width: 22px; height: 22px; }
.calendar-nav svg polyline { stroke: currentColor; stroke-width: 2; fill: none; stroke-linecap: round; stroke-linejoin: round; }

/* Fallback chevrons if SVGs fail */
.calendar-nav { position: relative; }
.calendar-nav.no-icon::before { content: '‚Ä∫'; position: absolute; font-size: 22px; line-height: 1; color: currentColor; }
.calendar-nav.no-icon[data-dir="prev"]::before { content: '‚Äπ'; }
.calendar-nav.no-icon[data-dir="next"]::before { content: '‚Ä∫'; }

/* Calendar Grid: smaller, crisper cells for compact calendar view
   Variables introduced to ease future tweaks */

/* --- Calendar Component Styles --- */

/*
  Calendar cell styles for proper display.
  The calendar component will set the `--workout-color` CSS variable inline on each `.calendar-cell`
  to indicate the workout status color. If not set, it will fall back to a default neutral color.
  The primary classes used by the calendar component are:
  - `.calendar-cell`: The base class for each day cell in the calendar.
  - `.calendar-day-number`: The element displaying the day number.
  - `.calendar-status`: The element displaying the workout status ("Done"/"Missed").
  - `.calendar-cell--no-workout`: A modifier for days without any workout.
  - `.calendar-status--completed`: A modifier for a "Done" status.
  - `.calendar-status--missed`: A modifier for a "Missed" status.
*/

.calendar-cell {
    aspect-ratio: 1/1;
    /*
      --workout-color is expected to be set inline by the calendar component.
      Fallback to a light gray for cells without a specific workout color.
    */
    --workout-color-fallback: #f1f5f9; /* A light neutral gray */
    background-color: var(--workout-color, var(--workout-color-fallback));
    
    /* Default cell styling for proper calendar layout */
    min-height: 44px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 6px 4px;
    border: 1px solid var(--border-color); /* Visible borders for clear separation */
    transition: all 0.2s ease-in-out;
    position: relative;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

/* Ensure text is legible against the background color */
.calendar-day-number {
    color: #0f172a; /* Dark slate-900, good for light backgrounds */
    font-weight: 700;
    font-size: 16px;
    text-align: center;
    line-height: 1.2;
    z-index: 1;
}

.calendar-status {
    font-size: 12px;
    font-weight: 600;
    line-height: 1.2;
    margin-top: 4px;
    z-index: 1;
    /* Default status color, can be overridden by specific status classes */
    color: #475569; /* slate-600 */
    text-shadow: none;
    -webkit-text-fill-color: currentColor;
}

/* Status-specific styles */
.calendar-status--completed {
    color: #0b5ed7; /* blue */
}

.calendar-status--missed {
    color: #dc2626; /* red-600 */
}

/* Ensure status labels on colored cells use the blue color and override any inherited/inline styles */
.calendar-cell .calendar-status.calendar-status--completed,
.calendar-cell .calendar-status.calendar-status--done {
    color: #0b5ed7 !important;
    -webkit-text-fill-color: #0b5ed7 !important;
    -webkit-text-stroke: 0 !important;
    text-stroke: 0 !important;
    text-shadow: none !important;
}

/* Modifier for days without workouts */
.calendar-cell--no-workout {
    --workout-color: var(--workout-color-fallback); /* Ensure it uses the fallback */
    border-color: var(--border-color); /* Show border for neutral cells */
}

/* Status-specific styles */
.calendar-status--done {
    color: #0b5ed7; /* blue */
}

.calendar-status--missed {
    color: #991b1b; /* dark red, red-800 */
}

/* Hover effect for cells (optional, but good for interactivity) */
.calendar-cell:hover {
    transform: scale(1.1);
    box-shadow: var(--shadow-md);
    z-index: 10; /* Ensure it pops above other cells */
    cursor: pointer;
}

/* If a grid container is used, these cells will align nicely.
   These styles only target the cells themselves, not the grid layout.
   Example grid container (for reference, not to be added here):
   .calendar-grid {
       display: grid;
       grid-template-columns: repeat(7, 1fr); // For a weekly view
       gap: 4px;
   }
*/
